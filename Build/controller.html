<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta content='width=device-width, initial-scale=1, maximum-scale=1 user-scalable=0' name='viewport'>
  <title>AirConsole Controller</title>
  <link href='https://fonts.googleapis.com/css?family=Play:400,700' rel='stylesheet' type='text/css'>
  <!-- AirConsole-Controls -->
  <link rel="stylesheet" type="text/css" href="airconsole-controls/button/button.css">
  <link rel="stylesheet" type="text/css" href="airconsole-controls/dpad/dpad.css">
  <!-- Styles -->
  <link rel="stylesheet" type="text/css" href="controller/styles/styles.css">
  <link rel="stylesheet" type="text/css" href="controller/styles/controls.css">

</head>


<body onload="init()">

  <div id="controller-container">

    <!-- REPLACE_HERE START -->

    <div id="view-0" class="view" style="display: flex;">
      <div id="view-0-section-0" class="section " style="height: 100%;">
      <div id="view-0-section-0-element-0" class="button-300-150 button-element element">
    <div class="button-text">UP</div>
  </div>
  <div id="view-0-section-0-element-1" class="button-300-150 button-element element">
    <div class="button-text">DOWN</div>
  </div>
  </div>
      <div id="view-0-section-1" class="section " style="height: 100%;">
      <div id="view-0-section-1-element-0" class=" button-element element">
    <div id="player_id" class="button-text">14141</div>
  </div>
  <div id="view-0-section-1-element-1" class="button-300-300 button-element element">
    <div class="button-text">ATTACK</div>
  </div>
  </div>
  </div>
  
  <script type="text/javascript">
    var airconsole;
    function init() {
      airconsole = new AirConsole({"orientation": "landscape"});
      
      airconsole.onActivePlayersChange = function(player_number) {
        updateText(player_number);
      }
      airconsole.onReady = function() {
        updateText();
      }

      var div = document.getElementById("player_id");
      div.innerHTML = "Waiting for more players.";
    }
    function updateText(player_number) {
      var div = document.getElementById("player_id");
        if (airconsole.getActivePlayerDeviceIds().length == 0) {
          div.innerHTML = "Waiting for more players.";
        } else if (player_number == undefined) {
          div.innerHTML = "This is a 2 player game and the room is FULL";
        } else if (player_number == 0) {
          div.innerHTML = "You are the player 1";
        } else if (player_number == 1) {
          div.innerHTML = "You are the player 2";
        };
    }
  </script>

  <script type="text/javascript">
    var ctrl_data = '{"orientation":"landscape","selected_view_id":"view-0","views":[{"id":"view-0","sections":[{"id":"view-0-section-0","elements":[{"id":"view-0-section-0-element-0","key":"button","name":"Button","tmpl":"button","constructor_fn":"ButtonElement","options":{"constructor_args":{},"attr_id":"view-0-section-0-element-0","css_classes":"button-300-150","view_action":{"target":null,"view_id":null},"label":"UP","send_onrelease":true,"message_data":[{"key":"move","value":"1"},{"key":"attack","value":"0"}]}},{"id":"view-0-section-0-element-1","key":"button","name":"Button","tmpl":"button","constructor_fn":"ButtonElement","options":{"constructor_args":{},"attr_id":"view-0-section-0-element-1","css_classes":"button-300-150","view_action":{"target":null,"view_id":null},"label":"DOWN","send_onrelease":true,"message_data":[{"key":"move","value":"-1"},{"key":"attack","value":"0"}]}}],"classes":[]},{"id":"view-0-section-1","elements":[{"id":"view-0-section-1-element-0","key":"button","name":"Button","tmpl":"button","constructor_fn":"ButtonElement","options":{"constructor_args":{},"attr_id":"view-0-section-1-element-0","css_classes":"","view_action":{"target":null,"view_id":null},"label":"14141","send_onrelease":false,"message_data":[]}},{"id":"view-0-section-1-element-1","key":"button","name":"Button","tmpl":"button","constructor_fn":"ButtonElement","options":{"constructor_args":{},"attr_id":"view-0-section-1-element-1","css_classes":"button-300-300","view_action":{"target":null,"view_id":null},"label":"ATTACK","send_onrelease":false,"message_data":[{"key":"attack","value":"1"}]}}],"classes":[]}]}]}';
  </script>

    <!-- REPLACE_HERE END -->

  </div>

  <!-- 3rd Party Libs -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script type="text/javascript" src="controller/libs/handlebars-v4.0.5.js"></script>
  <!-- AIRCONSOLE -->
  <script type="text/javascript" src="https://www.airconsole.com/api/airconsole-latest.js"></script>
  <script type="text/javascript" src="controller/libs/airconsole_view_manager.js"></script>
  <!-- AIRCONSOLE CONTROLS -->
  <script type="text/javascript" src="airconsole-controls/button/button.js"></script>
  <script type="text/javascript" src="airconsole-controls/dpad/dpad.js"></script>
  <script type="text/javascript" src="airconsole-controls/swipe-analog/swipe-analog.js"></script>
  <script type="text/javascript" src="airconsole-controls/swipe-digital/swipe-digital.js"></script>
  <!-- GENERATOR -->
  <script type="text/javascript" src="controller/js/controller_generator.js"></script>
  <script type="text/javascript" src="controller/js/main.js"></script>
</body>
</html>
